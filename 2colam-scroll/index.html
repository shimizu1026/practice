<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>GSAPスクロールで画像切り替え</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Helvetica Neue', Arial, sans-serif;
		}

		section {
			min-height: 400vh;
			position: relative;
		}

		.inner {
			display: flex;
			position: sticky;
			top: 0;
			height: 100vh;
			align-items: center;
			justify-content: center;
			gap: 40px;
			padding: 40px;
		}

		.text_box {
			flex: 1;
			max-width: 500px;
			padding: 40px;
		}

		.text_box p {
			font-size: 24px;
			line-height: 1.8;
			color: #333;
		}

		.img_box {
			flex: 1;
			max-width: 600px;
			position: relative;
			height: 70vh;
		}

		.img_box > div {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			opacity: 0;
		}

		.img_box > div:first-child {
			opacity: 1;
		}

		.img_box img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			border-radius: 12px;
			box-shadow: 0 10px 40px rgba(0,0,0,0.2);
		}

		.img_box p {
			position: absolute;
			bottom: 20px;
			left: 20px;
			right: 20px;
			margin: 0;
			padding: 15px 25px;
			background: rgba(255, 255, 255, 0.9);
			backdrop-filter: blur(10px);
			border-radius: 8px;
			font-size: 16px;
			color: #333;
			box-shadow: 0 4px 15px rgba(0,0,0,0.1);
		}

		@media (max-width: 768px) {
			.inner {
				flex-direction: column;
				gap: 20px;
				padding: 20px;
			}

			.text_box {
				max-width: 100%;
				padding: 20px;
			}

			.img_box {
				max-width: 100%;
				height: 50vh;
			}
		}
	</style>
</head>
<body>
	<section>
		<div class="inner">
			<div class="text_box">
				<p>ナビオの製品には、ナットウキナーゼ、FAS、ビタミンK2、ポリアミン、納豆菌がバランスよく含まれています。</p>
			</div>
			<div class="img_box">
				<div><img src="assets/images/spring.jpg" alt="春" data-season="spring">
				<p>text</p></div>
				<div><img src="assets/images/summer.jpg" alt="夏" data-season="summer"><p>text</p></div>
				<div><img src="assets/images/autumn.jpg" alt="秋" data-season="autumn"><p>text</p></div>
				<div><img src="assets/images/winter.jpg" alt="冬" data-season="winter"><p>text</p></div>
			</div>
		</div>
	</section>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
	<script>
		gsap.registerPlugin(ScrollTrigger);

		const imageDivs = document.querySelectorAll('.img_box > div');
		const section = document.querySelector('section');

		// 各画像にスクロールトリガーを設定
		imageDivs.forEach((div, index) => {
			if (index === 0) return; // 最初の画像はすでに表示されている

			const totalImages = imageDivs.length;
			const segmentSize = 100 / (totalImages - 1); // 画像間の均等な間隔
			const start = segmentSize * (index - 1);
			const transitionDuration = 10; // フェード時間（%）

			// 前の画像をフェードアウト
			gsap.to(imageDivs[index - 1], {
				opacity: 0,
				scrollTrigger: {
					trigger: section,
					start: `${start}% top`,
					end: `${start + transitionDuration}% top`,
					scrub: true,
				}
			});

			// 現在の画像をフェードイン
			gsap.fromTo(div, 
				{ opacity: 0 },
				{
					opacity: 1,
					scrollTrigger: {
						trigger: section,
						start: `${start}% top`,
						end: `${start + transitionDuration}% top`,
						scrub: true,
					}
				}
			);
		});
	</script>
</body>
</html>