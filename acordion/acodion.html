<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>document</title>
    <link
      rel="stylesheet"
      href="./resources/styles/destyle.css"
    />
    <!-- css -->
    <link rel="stylesheet" href="resources/styles/acodion.css" />
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Akshar:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Akshar:wght@300..700&family=Noto+Sans+JP:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <!-- Noto selif -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <main class="Main">
      <div class="AccordionMenu">
        <ul class="Menu">
          <li class="Menu-Item">
            <span class="Menu-Item-Label" data-is-open="false"
              >メニュー1
              <span class="Accordion-Btn">
                <span></span><span class="Rotate"></span></span
            ></span>

            <div class="Menu-Item__Inner">
              <p class="Menu-Item-Content">
                ダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキスト
              </p>
            </div>
          </li>
          <li class="Menu-Item">
            <span class="Menu-Item-Label" data-is-open="false"
              >メニュー2
              <span class="Accordion-Btn">
                <span></span><span class="Rotate"></span></span
            ></span>
            <div class="Menu-Item__Inner">
              <p class="Menu-Item-Content">
                ダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキスト
              </p>
            </div>
          </li>
          <li class="Menu-Item">
            <span class="Menu-Item-Label" data-is-open="false"
              >メニュー3
              <div class="Accordion-Btn">
                <span></span><span class="Rotate"></span>
              </div>
            </span>
            <div class="Menu-Item__Inner">
              <p class="Menu-Item-Content">
                ダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキスト
              </p>
            </div>
          </li>
          <li class="Menu-Item">
            <span class="Menu-Item-Label" data-is-open="false"
              >メニュー4
              <span class="Accordion-Btn">
                <span></span><span class="Rotate"></span></span
            ></span>
            <div class="Menu-Item__Inner">
              <p class="Menu-Item-Content">
                ダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキストダミーテキスト
              </p>
            </div>
          </li>
        </ul>
      </div>
    </main>
    <script>
      const accordions = document.querySelectorAll(".Menu-Item-Label");

      accordions.forEach((accordion) => {
        accordion.addEventListener("click", function (event) {
          const accordionButton = document.querySelector(".Rotate");
          accordionButton.classList.toggle("BtnIsActive");

          const accordion = event.currentTarget;
          if (accordion.dataset.isOpen === "false") {
            const itemInner = accordion.nextElementSibling;
            const content = itemInner.children[0];
            const targetHeight = content.offsetHeight;

            itemInner.style.height = targetHeight + "px";

            setTimeout(function () {
              itemInner.style.height = "auto";
              accordion.dataset.isOpen = true;
            }, 500);
          }
          if (accordion.dataset.isOpen === "true") {
            const itemInner = accordion.nextElementSibling;
            const content = itemInner.children[0];
            const targetHeight = content.offsetHeight;
            itemInner.style.height = targetHeight + "px";

            setTimeout(function () {
              itemInner.style.height = 0;
              accordion.dataset.isOpen = false;
            }, 1);
          }
        });
      });

      const button = document.querySelector(".Accordion-Btn");
      button.addEventListener("click", () => {
        button.classList.add(".MenuIsClose");
      });
    </script>
  </body>
</html>
